package fr.uge.game;

import java.io.IOException;
import java.nio.file.Path;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Random;

public class SimpleGameData {

	private RessourceCard[] ressourceTable; 
	private GoldenCard[] goldenTable; 
	private Card[] mainTable; 

	
	private ArrayList<RessourceCard> packRessource;
	private ArrayList<GoldenCard> packGolden;
	
	private HashMap<Pair, Card> plateau;
	
	/**private RessourceCard RessourceCard1;
	private RessourceCard RessourceCard2;
	private RessourceCard RessourceCard3;
	
	private GoldenCard GoldenCard1;
	private GoldenCard GoldenCard2;
	private GoldenCard GoldenCard3;
	
	private RessourceCard MainCard1;
	private RessourceCard MainCard2;
	private RessourceCard MainCard3;**/
	
	public SimpleGameData() {
		try {
			packRessource = RessourceCard.createRessourceCard(Path.of("include/Ressource.txt"));
		} catch (IOException e) {
			e.printStackTrace();
		}
		
		try {
			packGolden = GoldenCard.createRessourceCard(Path.of("include/Golden.txt"));
		} catch (IOException e) {
			e.printStackTrace();
		}
		
		ressourceTable = new RessourceCard[3];
		goldenTable = new GoldenCard[3];
		mainTable = new Card[3];
		plateau = new HashMap<Pair, Card>();
		
		for (int i = 0; i < 3; i++) {
			ressourceTable[i] = piocheRessource(getPackRessource());
			goldenTable[i] = piocheGolden(getPackGolden());
		}
		mainTable[0] = piocheRessource(getPackRessource());
		mainTable[1] = piocheRessource(getPackRessource());
		mainTable[2] = piocheGolden(getPackGolden());
	}
	
	public static RessourceCard piocheRessource(ArrayList<RessourceCard> packRessource) {
        
		Random rand = new Random();
		int indexAleatoire = rand.nextInt(packRessource.size());
		RessourceCard carte1 = packRessource.get(indexAleatoire);
		packRessource.remove(carte1);

		return carte1;
	}
	
	public static GoldenCard piocheGolden(ArrayList<GoldenCard> packGolden) {
        
		Random rand = new Random();
		int indexAleatoire = rand.nextInt(packGolden.size());
		GoldenCard carte1 = packGolden.get(indexAleatoire);
		packGolden.remove(carte1);
		return carte1;
	}

	public RessourceCard[] getRessourceTable() {
		return ressourceTable;
	}

	public GoldenCard[] getGoldenTable() {
		return goldenTable;
	}
	
	public Card[] getMainTable() {
		return mainTable;
	}

	public ArrayList<RessourceCard> getPackRessource() {
		return packRessource;
	}

	public ArrayList<GoldenCard> getPackGolden() {
		return packGolden;
	}
	
	public HashMap<Pair, Card> getPlateau() {
		return plateau;
	}
	
	//public static RessourceCard firstCard = new RessourceCard("animal", "void", "animal", "void", null, 2); 
	}

